Diplomacy roadmap
=================

Conditions for 1.0 to be declared:
- filesave format stabilized,
- performance considered to be ok,
- all core engine functionalities implemented, remaining ones:
  - events history,
  - actor/event/response/function/initAction/recurrentAction disabling/removal,
  - 'act next turn' functionality.
- APIs stabilized
- I18n ok
- L10n ok for english
- Documentation in .md format

Conditions for 2.0 to be declared:
- all major events implemented, remaining ones:
  - LEAVE
  - JOIN (Alliance)
  - SPLIT
  - COMBINE
  - TAX (Alliance)
  - SUBSIDIZE
  - DEFENSE_PREPARATION
  - ATTACK_PREPARATION
  - ATTACK
  - LOSS
  - VICTORY
  - BANKRUPTCY

---------------------------------------------------------------

Next version might include:
- the score given to a system by another depend on who they are allied to.
- Systems may break an alliance if they don't like anymore the other system.
- An Alliance API.
- The score threshold to form an alliance is configurable through the Alliance API.
- Bugfix : currently, only systems within 7 ly of the system with the highest id of the 2 systems in an alliance
  are informed of the alliance. It should be systems within 7 ly of any of the 2 systems in the alliance.

---------------------------------------------------------------

FIXME 0.n make a story/scenario generator?
FIXME 0.n make the wiki page, including the APIs

FIXME Productivity
How do we know the real productivity? Is there an OMC? Black work wouldn't be reported, nor taxed.
All these information could be put into an Oolitopedia.
Should we set the productivity? Make it evolve :) ?
Productivity is directly linked to the money / inflation
=> where space is scarce, activity is automatically more expensive, and productivity is higher.
Should we rename Tax -> Economy?

FIXME 0.n: use tco to avoid recursion: http://www.integralist.co.uk/posts/js-recursion.html

FIXME +.2 storing the history (needs events)
FIXME +.3 manage versioning of savefiles (once all functionalities are used)
FIXME +.4 give access of _systemsByGalaxyAndSystemId to oxp developers. A SystemsAPI :)
FIXME +.5 identifying player as citizen from some system (Citizenship)
FIXME +.6 player taxation

FIXME 0.n passengers are taxed too; maybe player may pay less depending on passenger home system? why would passenger allow that?
FIXME 0.n some systems could have their citizens not taxed? free passage? by some chosen systems? vassal systems?
FIXME 0.n minify, https://jscompress.com/, https://github.com/mishoo/UglifyJS2
FIXME 0.n "Troll wars" (noble Troll specie against human cultural trolls)
FIXME 0.n "Trumble wars" (trumbles are used as weapons to disrupt blockades)
FIXME 0.n "Day of the Tentacle"
FIXME 0.n benchmark with lazy regexps

FIXME 0.n: implement initial scoring of relations between systems
notion of goodwill towards systems in range
goodwill low depending on history:
if they have attacked that turn,
polarization? if the system has several neighbours, it dislikes better one of them
if they have attacked that turn a member of the alliance,
if they prepare for attack (even an enemy?),
if they're from an opposite ideology,
if they're from an opposite economy,
if they're from a different alliance (enemy alliance?)
if they currently got a bad economy?
if the other currently has a bad economy?
if they're from a disliked race
polarization? if the system has several neighbours, it dislikes better one of them
if they harbor an enemy faction
polarization: if they have enough money to attack and the other not enough to defend
goodwill high:
if they have helped in the past,
if they are member of the alliance,
if they prepare for defense,
if they're from a comparable economy
if they're from a comparable ideology
if they're next to a common enemy
if they're on a commercial road?
if they're from a liked race
polarization? if the system has several neighbours, it likes better one of them
if they harbor an ally faction
polarization: if they have enough money to defend and the other not enough to attack
What's an enemy?
initial scoring + eventsScoring losing 10% each turn (year?) + current turn eventStoring
initialScore = economy comparison + ideology comparison + commercial road
who should we score? a system scores those systems it is observing?
staticScore[observerId][observedId] = {
    economyComparison:,
    ideologyComparison:,
    sameCommercialRoad:,
}
dynamicScore[observerId][observedId] = {
    nextToCommonEnemy:,
    preparingForDefense:,
    harboursEnemyFaction:,
}
ally to system if score > threshold
ally to alliance if avg(systemsScores) > threshold
attack if systemMoney > targetProductivity * targetPopulation, divided by constant

FIXME 0.n: make the tax level evolve
FIXME 0.n have an indicator "Ongoing war" per system
FIXME 0.n have a notion of "war zone"
FIXME 0.n have a notion of galaxy, station, traveller
FIXME 0.n tax evasion
FIXME 0.n factions?
FIXME 0.n news, depending on player current system, player citizenship system, propaganda? maybe the right way is to generate LOTS of news and let the player register to those they want? Snoopers, citizenship news company
FIXME 0.n blockades
FIXME 0.n each turn, a system has an event card: a sun explodes, or a native singer becomes famous, which changes taxes, or alliances, or fights, or... Use some mega bomb for a supernova style event
FIXME 0.n what about the story of a war writing itself?
FIXME 0.n war cargoes
FIXME 0.n player's greed is the key
FIXME 0.n: "OXP that adds another eight galaxies" !!